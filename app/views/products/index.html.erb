<div class="row justify-content-center">
  <div class="col-lg-10 col-xl-8">
    
    <div class="d-flex justify-content-between align-items-center mb-5 mt-4">
      <h3 class="fw-bold mb-0">Products</h3>
    </div>

    <!-- Products List -->
    <div class="row g-4 mb-5">
      <% @products.each do |product| %>
        <div class="col-md-6">
          <div class="card shadow-sm border-0 h-100" style="border-radius: 12px; transition: transform 0.2s;">
            <div class="card-body p-4 d-flex flex-column h-100">
              
              <div class="d-flex justify-content-between align-items-start mb-4">
                <div class="bg-light rounded text-center d-flex align-items-center justify-content-center fs-2 fw-bold text-muted" style="width: 64px; height: 64px;">
                  <%= product.name[0...2].upcase %>
                </div>
                <span class="badge bg-success bg-opacity-10 text-success rounded-pill px-3 py-2 fw-medium"><%= product.status.titleize %></span>
              </div>

              <h4 class="fw-bold mb-3"><%= product.name %></h4>
              
              <div class="mt-auto pt-3 border-top">
                <div class="text-muted small text-uppercase fw-bold mb-2">Team Members</div>
                <div class="d-flex align-items-center mb-4">
                  <div class="d-flex me-3">
                    <% product.users.each do |tm| %>
                      <%= image_tag tm.avatar_url, class: "rounded-circle border border-2 border-white ms-n2 shadow-sm", style: "width: 40px; height: 40px;", title: tm.first_name %>
                    <% end %>
                  </div>
                  <div class="text-muted small fw-medium"><%= product.users.count %> members</div>
                </div>

                <%= link_to "View Product Hub", product_path(product), class: "btn btn-outline-dark fw-bold w-100 py-2" %>
              </div>

            </div>
          </div>
        </div>
      <% end %>
    </div>

    <% if @products.empty? %>
      <div class="text-center text-muted py-5 mt-4 bg-white shadow-sm rounded-3">
        <i class="bi bi-box fs-1 mb-3 d-block opacity-50"></i>
        <h5 class="fw-bold">No products created yet.</h5>
      </div>
    <% end %>

  </div>
</div>

<style>
.ms-n2 { margin-left: -0.5rem; }
.card:hover { transform: translateY(-3px); }
</style>
